@model SearchModel

@{
    ViewBag.Title = "Search Results";
}

@Html.Partial("Partials/SearchBar", Model.Criteria)
<br />

<div class="col-md-2 side-bar">

</div>

<div class="col-md-8">

    @foreach (Item item in Model.Items)
    {
        <div class="row row-centered">
            <div class="item">
                <img class="item-image" src="@item.ImageURL" alt="@item.Name" />
                <div class="col-xs-6 col-md-6 item-info">
                    <h4 class="item-link">
                        <a class="item-link" href="@item.Link">
                            @item.Name
                        </a>
                    </h4>
                    <p class="mobile-gone standard-text hidden-xs">
                        <strong>@item.StoreName</strong>
                    </p>
                    <p class="mobile-gone hidden-xs">
                        <span class="small-text">Feedback(@item.Feedback)</span> |
                        <span class="small-text">Orders(@item.Orders)</span>
                    </p>
                </div>
                <div class="col-xs-4 col-md-3 item-info-more">
                    <p>
                        <span class="item-price">@item.Price</span>
                        <span class="item-unit"> / @item.Unit</span>
                    </p>
                    @if (@item.FreeShipping)
                {
                <p class="label label-success">Free Shipping!</p>
                }
                    @if (@item.MobileOnly != "")
                {
                <p class="label label-danger">@item.MobileOnly</p>
                }
                </div>
            </div>
        </div>
    }

</div>

<div class="row">
    <div class="col-xs-12">
        <div class="btn-group">
            <ul class="pagination">
                @foreach (int pageNum in new int[] { 1, 2, 3, 4, 5 })
                {
                    if (pageNum == Model.Criteria.Page)
                    {
                        <li class="active">
                            <a href=@Url.Action("SearchResults", new { page = pageNum })>@pageNum</a>
                        </li>
                    }
                    else
                    {
                        <li>
                            <a href=@Url.Action("SearchResults", new { page = pageNum })>@pageNum</a>
                        </li>
                    }
                }
            </ul>
        </div>
    </div>
</div>

<div id="back-to-btm" class="btn-back-to-top row-centered">
    <div class="glyphicon glyphicon-chevron-down btn-back-to-top-arrow"></div>
</div>

<script>
    $(document).ready(function () {
        $("#searchform .row-centered").addClass("col-md-offset-1");
        $("#searchform .row-centered").removeClass("row-centered");

        $("#back-to-btm").click(function () {
            $("html,body").animate({
                scrollTop: document.body.scrollHeight
            }, 1000);
        });

        $(window).scroll(function () {
            if ($(this).scrollTop() > document.body.scrollHeight - screen.height * 1.5) {
                $("#back-to-btm").fadeOut();
            }
            else {
                $("#back-to-btm").fadeIn();
            }
        });
    });
</script>